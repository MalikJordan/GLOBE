base_element: n                     # mmol N / m^3

tracers:
  no3:
    long_name: nitrate
    type: inorganic
    composition:
      n: 4.0                          # mmol N / m^3
  phyto1:
    long_name: diatoms
    type: phytoplankton
    composition:                      # element : initial concentration
      n: 2.5                          # mmol N / m^3
    parameters:
      nutrient_limitation: "product"  # mininimum, product, or sum of all limiting nutrients
    #   cn_max: 
    #   cn_min: 
    #   cp_max:
    #   cp_min:
    #   cl_max:
    #   cl_min: 
  zoo1:
    long_name: mesozooplankton
    type: mesozooplankton
    composition:                      # element : initial concentration
      n: 1.5                          # mmol N / m^3
    # parameters:
      # cn_max: 
      # cn_min: 
      # cp_max:
      # cp_min: 
  pom1:
    long_name: particulate organic matter
    type: detritus
    composition:                      # element : initial concentration
      n: 0.0                          # mmol N / m^3
    # parameters:
      # cn_max: 
      # cn_min: 
      # cp_max: 
      # cn_min: 
  
parameters:
  environment:
    base_temp: 20.0
    summer_mld: 10.0
    winter_mld: 40.0
    summer_salt: 36.5
    winter_salt: 37.0
    summer_sun: 120.0
    winter_sun: 10.0
    summer_temp: 15.0
    winter_temp: 15.0
  simulation:
    latitude: 45.0
    num_days: 180
    timestep: 86400.0
  water_column:
    column_depth: 10.0
    num_layers: 1

reactions:
  - type: grazing
    consumed: phyto1
    consumed_elements: n
    produced_elements: n
    produced: zoo1
    parameters:
      function: ivlev
      max_grazing_rate: 1.0
      ivlev: 0.2
      assimilation_efficiency: 1.0
      ingestion_efficiency: 1.0
  - type: egestion
    consumed: zoo1
    produced: pom1
    consumed_elements: n
    produced_elements: n
    parameters:
      assimilation_efficiency: 1.0
  - type: excretion
    consumed: zoo1
    produced: no3
    consumed_elements: n
    produced_elements: n
    parameters:
      function: grazing
      assimilation_efficiency: 1.0
      ingestion_efficiency: 1.0
  - type: mortality
    consumed: phyto1
    produced: no3
    consumed_elements: n
    produced_elements: n
    parameters:
      function: linear
      mortality_rate: 0.1
  - type: mortality
    consumed: phyto1
    produced: pom1
    consumed_elements: n
    produced_elements: n
    parameters:
      function: linear
      mortality_rate: 0.15
  - type: mortality
    consumed: zoo1
    produced: no3
    consumed_elements: n
    produced_elements: n
    parameters:
      function: linear
      mortality_rate: 0.2
  - type: uptake
    consumed: no3
    produced: phyto1
    consumed_elements: n
    produced_elements: n
    parameters:
      half_sat_nutrient: 1
      light_limitation: 0.25
      max_growth_rate: variable
      a: 0.6
      b: 1.066
      c: 1.0
  - type: remineralization
    consumed: pom1
    produced: no3
    consumed_elements: n
    produced_elements: n
    parameters:
      remineralization_rate: 0.4
